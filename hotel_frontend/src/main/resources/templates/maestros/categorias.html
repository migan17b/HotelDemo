<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
  <head>
    <meta charset="utf-8"/>
     <!-- Required meta tags always come first -->
    <title>Hotel - Categorias</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"/>
    <meta http-equiv="x-ua-compatible" content="ie=edge"/>
	<!-- Bootstrap CSS -->
    <link rel="stylesheet"  th:href="@{/css/bootstrap/bootstrap-flex.min.css}"/>
   	<script src="https://use.fontawesome.com/5765211a64.js"></script>
   <!-- app CSS -->
    <link rel="stylesheet" href="#" type="text/css" th:href="@{/css/app.css}"/>
    
  </head>

  <body>
	    <!-- Header -->

    <header id="header-container">
      <div class="container">
        <div class="row flex-items-xs-middle flex-items-xs-between">
          <div class="col-xs-6">
            <h1 class="pull-xs-left">HOTEL MELANY</h1>
          </div>
          <div class="col-xs-3">
            <button class="navbar-toggler pull-xs-right hidden-sm-up" type="button" data-toggle="collapse" data-target="#navMenu" aria-controls="navMenu" aria-expanded="false" aria-label="Toggle navigation">
              &#9776;
            </button>
           <small class="pull-xs-right text-md-right hidden-xs-down"  >User , <span th:text="${userSession.fullName}"> </span>  </small>
            <form  th:action="@{/logout}" method="POST">
           
           		 <a th:href="'#'"  th:onclick="'document.forms[0].submit();return false;'" class="hidden-xs-down text-uppercase font-weight-bold pull-sm-right">Salir</a>
           
			</form>
          </div>
          <div class="col-xs-12"   >
           	<small class="hidden-sm-up" >User , <span th:text="${userSession.fullName}"> </span>  </small>
           </div>
        </div>
      </div>
    </header>

    <!-- /Header -->

   <!-- Menu -->

    <div id="menu-container">
      <nav id="navMenu" class="navbar-toggleable-xs navbar navbar-light collapse">
        <div class="container">
          <div class="row">
            <div class="col-xs-12 col-md-6" >
              <div class="nav-container text-xs-center text-md-left">
                <ul class="nav navbar-nav">
                
                <li class="nav-item text-xs-center active"  th:each="perfil : ${menuSession.menus}">
							<a class="nav-link" href="#" th:href="@{__${perfil.module.url}__}" > <span th:text="${perfil.module.menuLabel}"  ></span> </a> 							
				</li>
                 
                  <li class="nav-item hidden-sm-up text-xs-center">
                    <a class="nav-link" href="#">Salir</a>
                  </li>
                </ul>
              </div>
            </div>
            <div class="col-md-6 col-xs-12  hidden-xs-down">
              <form>
                <div class="input-group">
                  <input id="txtSearch" type="text" class="form-control" placeholder="nombre categoría"/>
                  <span class="input-group-btn">
                    <button id="btnSearch" class="btn btn-sd" type="button">
                      <span class="hidden-sm-down">Buscar</span>
                      <i class="fa fa-search hidden-md-up"></i>
                    </button>
                  </span>
                </div>
              </form>
            </div>
             
            
          </div>
        </div>
      </nav>
      <div id="search-bar" class="container hidden-sm-up">
        <div class="row">
            <div class="col-xs-12">
              <form>
                <div class="input-group">
                  <input type="text" class="form-control" placeholder="nombre categoría"/>
                  <span class="input-group-btn">
                    <button class="btn btn-sd" type="button">
                      <span class="hidden-sm-down">Buscar</span>
                      <i class="fa fa-search hidden-md-up"></i>
                    </button>
                  </span>
                </div>
              </form>
            </div>
          </div>
      </div>
    </div>
	
    <!-- /Menu -->
    
    
     <!-- Breadcrumbs -->

    <div id="breadcrumbs-container">
      <div class="container">
        <div class="row">
          <div class="col-xs">
            <nav class="breadcrumb">
            <a class="breadcrumb-item"  th:href="@{/menu/showmenu}">Inicio</a>
              <a class="breadcrumb-item"  th:href="@{/menu/showmaestros}">Maestros</a>
              <a class="breadcrumb-item"  href="#">Categorias</a>
              <span class="breadcrumb-item active">Mantenimiento de Categorias</span>
            </nav>
          </div>
        </div>
      </div>
    </div>

    <!-- /Breadcrumbs -->
    
    
     <!-- categorias  -->

    <div id="submenu-container">
      <div class="container">
        <div class="row">
        <!-- sub menus -->

        <div class="col-xs-12 col-md-3">
          <div class="list-group filtros-toggle">
            <a id="filtrosToggle" href="#" class="list-group-item list-group-item-action navbar-toggler hidden-sm-up" data-target="#filtros-container" data-toggle="collapse">
              <h5 class="list-group-item-heading">Menu <i class="fa fa-chevron-down"></i></h5>
            </a>
          </div>
          <div id="filtros-container" class="collapse navbar-toggleable-xs">
            <div class="list-group">
            
              <a href="#" class="list-group-item list-group-item-action active">
                <h5 class="list-group-item-heading">Maestros</h5>
              </a>
               
              
				<div  th:each="perfil : ${menuSession.maestros}"  >
								 
							<a href="#" th:href="@{__${perfil.module.url}__}"  class="list-group-item list-group-item-action">
			                 <span   th:text="${perfil.module.menuLabel}"></span>
			              </a>	
			        					
				</div>
				
            </div>
            
            
          </div>
        </div>

        <!-- /submenus -->
		<!-- continer categoria -->
		<div class="col-xs-12 col-md-9">
          <div class="row">
            <div class="col-xs-12 ">
				<div class="panel panel-default">
					<div class="panel-heading"></div>
					<table class="table">
						<thead>
							<tr>
								<th width="40%" align="left" >Nombre</th>
								<th width="20%" align="center" >Precio actual</th>
					
								<th width="40%" align="center" >Acciones</th>
								
							</tr>
						</thead>
						<tbody>
		
							<tr  th:each="categoria : ${categorias}">
								
								<td th:text="${categoria.nombre}" ></td>
								<td th:text="${categoria.precio}"></td>
								<td>
									<a href="#" th:href="@{/categoria/categoriaform?id=__${categoria.id}__}" >
										<button type="button" class="btn  btn-primary btn-sd"><i class="fa fa-pencil-square-o" aria-hidden="true"></i></button>
									</a>
									<a href="#" th:href="@{/categoria/removecategoria?id=__${categoria.id}__}" >
										<button type="button" class="btn btn-danger"><i class="fa fa-trash" aria-hidden="true"></i></button>
									</a>
								</td>
							</tr>
						</tbody>
					</table>
					</div>
					<div th:if="${result == 0}" class="alert alert-success" role="alert" > Grabo Corectamente!</div>
					<div th:if="${result == -1}" class="alert alert-danger" role="alert" > error al actualizar</div>
				</div>
			</div>	
			<div class="row">
           		<div class="col-xs-6 col-md-4 ">
					
					<form  th:action="@{/categoria/categoriaform}" method="GET">
						<button id="btnAdd" class="btn btn-lg btn-primary btn-sd btn-block" type="submit"><i class="fa fa-plus "></i> Agregar</button>
					</form>
						
				</div>
				<div class="col-xs-6 col-md-4 ">
					<a href="#" th:href="@{/categoria/categoriaform}">
						<button id="btnPrint" class="btn btn-lg btn-primary btn-sd btn-block" type="submit"><i class="fa fa-print" aria-hidden="true"></i> Imprimir</button>
					</a>	
				</div>
				<div class="col-xs-6 col-md-4 ">
					<a href="#" th:href="@{/categoria/categoriaform}">
						<button id="btnExcel" class="btn btn-lg btn-primary btn-sd btn-block" type="submit"><i class="fa fa-table" aria-hidden="true"></i> Excel</button>
					</a>	
				</div>
				<div class="col-xs-6 col-md-4 ">
					
						<button id="btnMail"  class="btn btn-lg btn-primary btn-sd btn-block" type="submit"><i class="fa fa-envelope" aria-hidden="true"></i> Correo</button>
				
				</div>
				<div class="col-xs-6 col-md-4  offset-md-4">
					<form  th:action="@{/menu/showmaestros}" method="GET">
						<button  id="btnExit" class="btn btn-lg btn-primary btn-sd btn-block" type="submit"><i class="fa fa-sign-out" aria-hidden="true"></i> Salir</button>
					</form>
				</div>
			</div>		
			
		</div>
	
		
		
       	<!-- /continer categoria -->
        </div>
      </div>
    </div>

    <!-- /categorias -->
	
	 <!-- Footer -->
	<!-- Modal -->

    <div class="modal fade" id="modalMail" tabindex="-1" role="dialog" aria-labelledby="modalOfertaLabel" aria-hidden="true">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header ">
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
              <span aria-hidden="true">&times;</span>
            </button>
            <h4 class="modal-title" id="modalOfertaLabel">Enviar Categorias a Correo</h4>
          </div>
          <div class="modal-body">

            <form action="#" class="form">
            	<div class="row ">
		             <div class="col-xs-12">	 
		              <div class="form-group">
		              	Ingrese correo destino
		                <input type="email" class="form-control" id="email" aria-describedby="emailHelp" placeholder="tu@correo.com" name="email"/>
		                
		              </div>
		              </div>
		         </div>
		         <div class="row ">   
		              <div class="col-xs-4   offset-xs-2 col-sm-3  offset-sm-3">
		              <button id="btnSendMail" type="submit" class="btn btn-sd form-text ">Enviar</button>
		              </div>
		              <div class="col-xs-5 offset-xs-1 col-sm-4 offset-sm-2">
		              <button id="btnHideMail" type="button" class="btn btn-warning form-text" data-dismiss="modal">Cancelar</button>
		              </div>
               </div>
            </form>
           
          </div>
        </div>
      </div>
    </div>
	
    <!-- /Modal -->
	
    <div id="footer-container">
      <div class="container">
        <div class="row text-xs-center text-sm-left">
          <div class="col-md-4">
          
              <h4 class="text-uppercase">Hotel Melany</h4>
              <small >Av. Jose pardo de Zela 150</small> <br/>
              <small >telf. (01)4710470</small>
              <div class="form-group">
               
                <small id="emailHelp" class="form-text text-muted">by Social Data 2017</small>
              </div>
             
          
          </div>
          <div class="col-md-3 offset-md-5">
            <h4 class="navigation">Navegación</h4>
            <ul class="nav">
             <li class="nav-item"  th:each="perfil : ${menuSession.menus}">
							<a class="nav-link" href="#" th:href="@{__${perfil.module.url}__}" > <span th:text="${perfil.module.menuLabel}"  ></span> </a> 							
			</li>
              <li class="nav-item"><a class="nav-link" href="#">Salir</a></li>
            </ul>
          </div>
        </div>
      </div>
    </div>

    <!-- /Footer -->

  <!-- jQuery first, then Tether, then Bootstrap JS. -->
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.0.0/jquery.min.js" integrity="sha384-THPy051/pYDQGanwU6poAc/hOdQxjnOEXzbT+OuUAFqNqFjL+4IGLBgCJC3ZOShY" crossorigin="anonymous"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/tether/1.2.0/js/tether.min.js" integrity="sha384-Plbmg8JY28KFelvJVai01l8WyZzrYWG825m+cZ0eDDS1f7d/js6ikvy1+X+guPIB" crossorigin="anonymous"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-alpha.3/js/bootstrap.min.js" integrity="sha384-ux8v3A6CPtOTqOzMKiuo3d/DomGaaClxFYdCu2HPMBEkf6x2xiDyJ7gkXU0MWwaD" crossorigin="anonymous"></script>
    
     <script th:src="@{/js/common.js}" ></script>
    <script th:src="@{/js/app.js}" ></script>
    <script th:src="@{/js/categorias.js}" ></script>
   
   	<script type="text/javascript">
    $(document).ready(function() {
				initElementsCategorias();
				
				
		});
	</script>	
</body>
</html>